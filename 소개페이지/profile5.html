<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë‚˜ì˜ ìê¸°ì†Œê°œ í˜ì´ì§€</title>
<style>
  :root { font-family: "Noto Sans KR", sans-serif; }
  body { max-width: 960px; margin: 30px auto; padding: 20px; background: #f9fafb; line-height: 1.6; }
  header { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
  #profile-img { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; cursor: pointer; transition: transform 0.3s; }
  #profile-img:hover { transform: scale(1.05); }
  #status { font-size: 1.1rem; color: #2563eb; font-weight: bold; margin-top: 8px; }
  .card { background: white; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 20px; margin-bottom: 20px; }
  table { border-collapse: collapse; width: 100%; margin-top: 10px; }
  th, td { border: 1px solid #d1d5db; padding: 8px; text-align: center; }
  th { background: #f3f4f6; }
  button { margin: 5px; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; background: #3b82f6; color: white; }
  button:hover { background: #2563eb; }
  video { border-radius: 12px; margin-top: 10px; width: 100%; max-width: 600px; }

  #editModal, #imageModal {
    display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.6); justify-content: center; align-items: center; z-index: 10;
  }
  .modal-content {
    background: white; border-radius: 16px; padding: 20px; width: 90%; max-width: 500px;
  }
  .modal-content input, .modal-content textarea { width: 100%; margin: 8px 0; padding: 8px; }

  .gallery-container { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px; }
  .thumbnail { width: 120px; height: 90px; object-fit: cover; border-radius: 8px; cursor: pointer; transition: transform 0.2s; }
  .thumbnail:hover { transform: scale(1.05); }

  #imageModal img { max-width: 90%; max-height: 80vh; border-radius: 10px; }
  .arrow { position: absolute; top: 50%; font-size: 2rem; color: white; background: rgba(0,0,0,0.3);
    padding: 8px 12px; border-radius: 50%; cursor: pointer; user-select: none; }
  .arrow:hover { background: rgba(0,0,0,0.5); }
  .left { left: 20px; } .right { right: 20px; }
</style>
</head>
<body>

<header>
  <div>
    <img id="profile-img" src="me.jpg" alt="ë‚´ ì‚¬ì§„" />
    <div id="status">ìƒíƒœ: ğŸ˜Š ì¤€ë¹„ì™„ë£Œ!</div>
  </div>
  <div>
    <h1 id="intro-text">ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” <span style="color:#2563eb;">â—‹â—‹ì´ˆë“±í•™êµ 5í•™ë…„ â—‹â—‹â—‹</span>ì…ë‹ˆë‹¤.</h1>
    <p>í˜¸ê¸°ì‹¬ ë§ê³  ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ëŠ” ê±¸ ì¢‹ì•„í•˜ëŠ” ì˜ì¬ì…ë‹ˆë‹¤!</p>
  </div>
  <div>
    <button onclick="openEditModal()">ìê¸°ì†Œê°œ ìˆ˜ì • âœï¸</button>
    <button onclick="saveToLocal()">ì €ì¥í•˜ê¸° ğŸ’¾</button>
    <button onclick="downloadData()">íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸° ğŸ“‚</button>
    <input type="file" id="importFile" accept=".json" style="display:none" onchange="loadFromFile(event)">
    <button onclick="document.getElementById('importFile').click()">íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸° ğŸ“</button>
  </div>
</header>

<section class="card">
  <h2>ì¢‹ì•„í•˜ëŠ” ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ ğŸ“¸</h2>
  <input type="file" id="galleryInput" accept="image/*" multiple>
  <div class="gallery-container" id="galleryContainer"></div>
</section>

<!-- ì´í•˜ ë™ì¼ -->
<section class="card">
  <h2>ë‚˜ì˜ í•™êµ ì‹œê°„í‘œ</h2>
  <table>
    <tr><th>ì‹œê°„/ìš”ì¼</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th>ê¸ˆ</th></tr>
    <tr><td>1êµì‹œ</td><td>êµ­ì–´</td><td>ìˆ˜í•™</td><td>ê³¼í•™</td><td>ì²´ìœ¡</td><td>ì˜ì–´</td></tr>
    <tr><td>2êµì‹œ</td><td>ì‚¬íšŒ</td><td>ìŒì•…</td><td>ë¯¸ìˆ </td><td>êµ­ì–´</td><td>ê³¼í•™</td></tr>
  </table>
</section>

<footer style="text-align:center; color:#6b7280; margin-top:40px;">Â© 2025 ë‚˜ì˜ ì†Œê°œ í˜ì´ì§€</footer>

<!-- í¸ì§‘ ëª¨ë‹¬ -->
<div id="editModal">
  <div class="modal-content">
    <h3>ìê¸°ì†Œê°œ í¸ì§‘</h3>
    <label>í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ:</label>
    <input type="file" id="photoInput" accept="image/*">
    <label>ì†Œê°œê¸€ ìˆ˜ì •:</label>
    <textarea id="introInput" rows="3"></textarea>
    <label>ìê¸°ì†Œê°œ ë™ì˜ìƒ ì„ íƒ:</label>
    <input type="file" id="videoInput" accept="video/*">
    <div style="text-align:right; margin-top:10px;">
      <button onclick="saveChanges()">ì €ì¥</button>
      <button onclick="closeEditModal()">ë‹«ê¸°</button>
    </div>
  </div>
</div>

<!-- ì´ë¯¸ì§€ ë³´ê¸° ëª¨ë‹¬ -->
<div id="imageModal">
  <span class="arrow left" onclick="prevImage()">&#10094;</span>
  <img id="modalImage" src="">
  <span class="arrow right" onclick="nextImage()">&#10095;</span>
</div>

<script>
  let galleryImages = [];
  let currentIndex = 0;

  // ìƒíƒœ ê´€ë¦¬
  function setStatus(text){ document.getElementById("status").textContent = "ìƒíƒœ: " + text; }

  function openEditModal(){ document.getElementById("editModal").style.display = "flex"; }
  function closeEditModal(){ document.getElementById("editModal").style.display = "none"; }

  function saveChanges(){
    const introText = document.getElementById("introInput").value;
    if(introText) document.getElementById("intro-text").textContent = introText;

    const photo = document.getElementById("photoInput").files[0];
    if(photo){
      const r = new FileReader();
      r.onload = e => document.getElementById("profile-img").src = e.target.result;
      r.readAsDataURL(photo);
    }
    closeEditModal();
  }

  const galleryInput = document.getElementById("galleryInput");
  const galleryContainer = document.getElementById("galleryContainer");
  galleryInput.addEventListener("change", e=>{
    Array.from(e.target.files).forEach(file=>{
      const r = new FileReader();
      r.onload = ev=>{
        galleryImages.push(ev.target.result);
        const img = document.createElement("img");
        img.src = ev.target.result;
        img.className="thumbnail";
        img.onclick=()=>openImageModal(galleryImages.indexOf(ev.target.result));
        galleryContainer.appendChild(img);
      };
      r.readAsDataURL(file);
    });
  });

  function openImageModal(i){ currentIndex=i; document.getElementById("modalImage").src=galleryImages[i];
    document.getElementById("imageModal").style.display="flex"; }
  function closeImageModal(){ document.getElementById("imageModal").style.display="none"; }
  function nextImage(){ if(galleryImages.length){ currentIndex=(currentIndex+1)%galleryImages.length;
    document.getElementById("modalImage").src=galleryImages[currentIndex]; } }
  function prevImage(){ if(galleryImages.length){ currentIndex=(currentIndex-1+galleryImages.length)%galleryImages.length;
    document.getElementById("modalImage").src=galleryImages[currentIndex]; } }

  document.getElementById("imageModal").addEventListener("click", e=>{
    if(e.target.id==="imageModal") closeImageModal();
  });

  // -------------------------------
  // âœ… ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸° (íŒŒì¼ ë‚´ë³´ë‚´ê¸°/ë¶ˆëŸ¬ì˜¤ê¸° + ë¡œì»¬ì €ì¥)
  // -------------------------------
  function collectData(){
    return {
      intro: document.getElementById("intro-text").textContent,
      status: document.getElementById("status").textContent,
      profile: document.getElementById("profile-img").src,
      gallery: galleryImages
    };
  }

  function saveToLocal(){
    localStorage.setItem("myProfileData", JSON.stringify(collectData()));
    alert("ë¡œì»¬ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
  }

  function downloadData(){
    const blob = new Blob([JSON.stringify(collectData(), null, 2)], {type:"application/json"});
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "my_profile.json";
    a.click();
  }

  function loadFromFile(event){
    const file = event.target.files[0];
    const reader = new FileReader();
    reader.onload = e=>{
      const data = JSON.parse(e.target.result);
      applyData(data);
      localStorage.setItem("myProfileData", JSON.stringify(data)); // ë™ê¸°í™”
      alert("ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ!");
    };
    reader.readAsText(file);
  }

  function applyData(data){
    if(data.intro) document.getElementById("intro-text").textContent = data.intro;
    if(data.status) document.getElementById("status").textContent = data.status;
    if(data.profile) document.getElementById("profile-img").src = data.profile;
    if(data.gallery){
      galleryImages = data.gallery;
      galleryContainer.innerHTML="";
      data.gallery.forEach(src=>{
        const img=document.createElement("img");
        img.src=src; img.className="thumbnail";
        img.onclick=()=>openImageModal(galleryImages.indexOf(src));
        galleryContainer.appendChild(img);
      });
    }
  }

  // í˜ì´ì§€ ë¡œë“œì‹œ ìë™ ë³µì›
  window.addEventListener("load", ()=>{
    const saved = localStorage.getItem("myProfileData");
    if(saved) applyData(JSON.parse(saved));
  });
</script>

</body>
</html>
